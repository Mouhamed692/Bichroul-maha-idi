<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> cellule BMH</title>
    <link rel="stylesheet" href="index.css">
    <script src="index.js" defer></script>
     <script type="module">
        // Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyAMXY1FrStYYiOdnh_YumiGGG3rPVnIcFI",
  authDomain: "entreprise-staff.firebaseapp.com",
  projectId: "entreprise-staff",
  storageBucket: "entreprise-staff.firebasestorage.app",
  messagingSenderId: "77300040959",
  appId: "1:77300040959:web:99da1104e2b60d6d7538ca",
  measurementId: "G-XNKY16NNXX"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);


const form=document.querySelector('form');


form.addEventListener('submit',(e)=>{
    e.preventDefault();
    const nom=document.getElementById('nom').value.trim();
    const prénom=document.getElementById('prénom').value.trim();
    const tel=document.getElementById('tel').value.trim();
    const profession=document.getElementById('profession').value.trim();
    
    if(!nom || !prénom || !tel || !profession){
        alert('Veuillez remplir tous les champs');
        return;
    }


   const table=document.getElementById('tableau').getElementsByTagName('tbody')[0];
   
    
    const newRow= table.insertRow();
    const cell1=newRow.insertCell(0);
    const cell2=newRow.insertCell(1);
    const cell3=newRow.insertCell(2);
    const cell4=newRow.insertCell(3);
    
    cell1.textContent=nom;
    cell2.textContent=prénom;
    cell3.textContent=tel;
    cell4.textContent=profession;
    
    await addDoc(collection(dd,"employes"),nom,prénom,tel,profession);
   

    form.reset();
    
});
onSnapshot(collection(db,"employes"), (snapshot)=> {
    table.textContent= "";
    snapshot.forEach((doc)=>{
        const data = doc.data();
        table.textContent += `<tr><td>${data.nom}</td>
            <td>${data.prénom}</td>
            <td>${data.tel}</td>
            <td>${data.profession}</td>  </td> </tr>`
    });
});


    </script>

    

</head>
<body>
    <form id="form">
        <header id="header">
            <img src="https://i.pinimg.com/736x/2e/e0/dd/2ee0ddbd0150ad8c956102b3327ef6bb.jpg" alt="img" width="100" height="100" id="img"><img src="https://i.pinimg.com/736x/66/f7/7f/66f77f7c9b829475172d96bd12679f8e.jpg" alt="img1" width="100" height="100" id="img1">
            <h1>Bienvenue dans la cellule Bichroul maha idi de la fédération Hadaa ihoul fada il</h1>
        </header>
        <div id="formulaire">
        <h1>Darraa Bichroul maha idi vous remercie et vous souhaite la bienvenue </h1>
        <label for="nom">nom</label><br>
        <input type="text" name="nom" id="nom" placeholder="votre nom" ><br>
        <label for="prénom">prénom</label><br>
        <input type="text" name="prénom" id="prénom" placeholder="votre prénom"><br>
        <label for="tel">N° Téléphone</label><br>
        <input type="tel" name="tel" id="tel" placeholder="votre N° de téléphone"><br>
        <label for="profession">professions/métiers</label> <br>
        <input type="text" name="professions" id="profession" placeholder="votre professions/métiers"><br>
         <button type="submit">envoyé</button>
        </div>
        <div id="tableau">
        <table border="1" id="table">
            <thead>
                <tr>
                    <th>nom</th>
                    <th>prénom</th>
                    <th>N° Téléphone</th>
                    <th>professions/métiers</th>
                </tr>
            </thead>
            <tbody id="tbody">
                
            </tbody>

        </div>




       
    </form>
    
</body>

</html>


